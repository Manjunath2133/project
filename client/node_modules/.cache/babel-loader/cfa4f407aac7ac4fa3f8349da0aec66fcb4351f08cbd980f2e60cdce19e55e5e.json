{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProfileForm=_ref=>{let{profileId,token}=_ref;const[username,setUsername]=useState('');const[bio,setBio]=useState('');const[skills,setSkills]=useState('');const[projects,setProjects]=useState('');const[achievements,setAchievements]=useState('');const[picture,setPicture]=useState(null);useEffect(()=>{if(!profileId)return;const fetchProfile=async()=>{try{const response=await axios.get(\"/api/profiles/\".concat(profileId),{headers:{Authorization:\"Bearer \".concat(token)}});const data=response.data;setUsername(data.username);setBio(data.bio);setSkills(data.skills);setProjects(data.projects);setAchievements(data.achievements);}catch(error){console.error('Error fetching profile:',error);}};fetchProfile();},[profileId,token]);const handleSubmit=async e=>{e.preventDefault();const formData=new FormData();formData.append('username',username);formData.append('bio',bio);formData.append('skills',skills);formData.append('projects',projects);formData.append('achievements',achievements);if(picture){formData.append('picture',picture);}try{const response=await axios.put(\"/api/profiles/\".concat(profileId),formData,{headers:{Authorization:\"Bearer \".concat(token),'Content-Type':'multipart/form-data'}});if(response.status===200){alert('Profile updated successfully!');}else{alert('Failed to update profile.');}}catch(error){console.error('Error updating profile:',error);alert('Failed to update profile. Please try again later.');}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",value:username,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Bio\",value:bio,onChange:e=>setBio(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Skills\",value:skills,onChange:e=>setSkills(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Projects\",value:projects,onChange:e=>setProjects(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Achievements\",value:achievements,onChange:e=>setAchievements(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>setPicture(e.target.files[0])}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update Profile\"})]});};export default ProfileForm;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","ProfileForm","_ref","profileId","token","username","setUsername","bio","setBio","skills","setSkills","projects","setProjects","achievements","setAchievements","picture","setPicture","fetchProfile","response","get","concat","headers","Authorization","data","error","console","handleSubmit","e","preventDefault","formData","FormData","append","put","status","alert","onSubmit","children","type","placeholder","value","onChange","target","files"],"sources":["D:/New folder (2)/Tech-Pioneers/client/src/components/ProfileForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst ProfileForm = ({ profileId, token }) => {\r\n  const [username, setUsername] = useState('');\r\n  const [bio, setBio] = useState('');\r\n  const [skills, setSkills] = useState('');\r\n  const [projects, setProjects] = useState('');\r\n  const [achievements, setAchievements] = useState('');\r\n  const [picture, setPicture] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!profileId) return;\r\n\r\n    const fetchProfile = async () => {\r\n      try {\r\n        const response = await axios.get(`/api/profiles/${profileId}`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        const data = response.data;\r\n        setUsername(data.username);\r\n        setBio(data.bio);\r\n        setSkills(data.skills);\r\n        setProjects(data.projects);\r\n        setAchievements(data.achievements);\r\n      } catch (error) {\r\n        console.error('Error fetching profile:', error);\r\n      }\r\n    };\r\n\r\n    fetchProfile();\r\n  }, [profileId, token]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n    formData.append('username', username);\r\n    formData.append('bio', bio);\r\n    formData.append('skills', skills);\r\n    formData.append('projects', projects);\r\n    formData.append('achievements', achievements);\r\n    if (picture) {\r\n      formData.append('picture', picture);\r\n    }\r\n\r\n    try {\r\n      const response = await axios.put(`/api/profiles/${profileId}`, formData, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        alert('Profile updated successfully!');\r\n      } else {\r\n        alert('Failed to update profile.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating profile:', error);\r\n      alert('Failed to update profile. Please try again later.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Username\"\r\n        value={username}\r\n        onChange={(e) => setUsername(e.target.value)}\r\n      />\r\n      <textarea\r\n        placeholder=\"Bio\"\r\n        value={bio}\r\n        onChange={(e) => setBio(e.target.value)}\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Skills\"\r\n        value={skills}\r\n        onChange={(e) => setSkills(e.target.value)}\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Projects\"\r\n        value={projects}\r\n        onChange={(e) => setProjects(e.target.value)}\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Achievements\"\r\n        value={achievements}\r\n        onChange={(e) => setAchievements(e.target.value)}\r\n      />\r\n      <input\r\n        type=\"file\"\r\n        onChange={(e) => setPicture(e.target.files[0])}\r\n      />\r\n      <button type=\"submit\">Update Profile</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ProfileForm;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAA0B,IAAzB,CAAEC,SAAS,CAAEC,KAAM,CAAC,CAAAF,IAAA,CACvC,KAAM,CAACG,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACa,GAAG,CAAEC,MAAM,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAClC,KAAM,CAACe,MAAM,CAAEC,SAAS,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACiB,QAAQ,CAAEC,WAAW,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACmB,YAAY,CAAEC,eAAe,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACqB,OAAO,CAAEC,UAAU,CAAC,CAAGtB,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACd,GAAI,CAACQ,SAAS,CAAE,OAEhB,KAAM,CAAAc,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAtB,KAAK,CAACuB,GAAG,kBAAAC,MAAA,CAAkBjB,SAAS,EAAI,CAC7DkB,OAAO,CAAE,CAAEC,aAAa,WAAAF,MAAA,CAAYhB,KAAK,CAAG,CAC9C,CAAC,CAAC,CACF,KAAM,CAAAmB,IAAI,CAAGL,QAAQ,CAACK,IAAI,CAC1BjB,WAAW,CAACiB,IAAI,CAAClB,QAAQ,CAAC,CAC1BG,MAAM,CAACe,IAAI,CAAChB,GAAG,CAAC,CAChBG,SAAS,CAACa,IAAI,CAACd,MAAM,CAAC,CACtBG,WAAW,CAACW,IAAI,CAACZ,QAAQ,CAAC,CAC1BG,eAAe,CAACS,IAAI,CAACV,YAAY,CAAC,CACpC,CAAE,MAAOW,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CACjD,CACF,CAAC,CAEDP,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACd,SAAS,CAAEC,KAAK,CAAC,CAAC,CAEtB,KAAM,CAAAsB,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,UAAU,CAAE1B,QAAQ,CAAC,CACrCwB,QAAQ,CAACE,MAAM,CAAC,KAAK,CAAExB,GAAG,CAAC,CAC3BsB,QAAQ,CAACE,MAAM,CAAC,QAAQ,CAAEtB,MAAM,CAAC,CACjCoB,QAAQ,CAACE,MAAM,CAAC,UAAU,CAAEpB,QAAQ,CAAC,CACrCkB,QAAQ,CAACE,MAAM,CAAC,cAAc,CAAElB,YAAY,CAAC,CAC7C,GAAIE,OAAO,CAAE,CACXc,QAAQ,CAACE,MAAM,CAAC,SAAS,CAAEhB,OAAO,CAAC,CACrC,CAEA,GAAI,CACF,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAtB,KAAK,CAACoC,GAAG,kBAAAZ,MAAA,CAAkBjB,SAAS,EAAI0B,QAAQ,CAAE,CACvER,OAAO,CAAE,CACPC,aAAa,WAAAF,MAAA,CAAYhB,KAAK,CAAE,CAChC,cAAc,CAAE,qBAClB,CACF,CAAC,CAAC,CAEF,GAAIc,QAAQ,CAACe,MAAM,GAAK,GAAG,CAAE,CAC3BC,KAAK,CAAC,+BAA+B,CAAC,CACxC,CAAC,IAAM,CACLA,KAAK,CAAC,2BAA2B,CAAC,CACpC,CACF,CAAE,MAAOV,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/CU,KAAK,CAAC,mDAAmD,CAAC,CAC5D,CACF,CAAC,CAED,mBACElC,KAAA,SAAMmC,QAAQ,CAAET,YAAa,CAAAU,QAAA,eAC3BtC,IAAA,UACEuC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,UAAU,CACtBC,KAAK,CAAElC,QAAS,CAChBmC,QAAQ,CAAGb,CAAC,EAAKrB,WAAW,CAACqB,CAAC,CAACc,MAAM,CAACF,KAAK,CAAE,CAC9C,CAAC,cACFzC,IAAA,aACEwC,WAAW,CAAC,KAAK,CACjBC,KAAK,CAAEhC,GAAI,CACXiC,QAAQ,CAAGb,CAAC,EAAKnB,MAAM,CAACmB,CAAC,CAACc,MAAM,CAACF,KAAK,CAAE,CACzC,CAAC,cACFzC,IAAA,UACEuC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,QAAQ,CACpBC,KAAK,CAAE9B,MAAO,CACd+B,QAAQ,CAAGb,CAAC,EAAKjB,SAAS,CAACiB,CAAC,CAACc,MAAM,CAACF,KAAK,CAAE,CAC5C,CAAC,cACFzC,IAAA,UACEuC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,UAAU,CACtBC,KAAK,CAAE5B,QAAS,CAChB6B,QAAQ,CAAGb,CAAC,EAAKf,WAAW,CAACe,CAAC,CAACc,MAAM,CAACF,KAAK,CAAE,CAC9C,CAAC,cACFzC,IAAA,UACEuC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,cAAc,CAC1BC,KAAK,CAAE1B,YAAa,CACpB2B,QAAQ,CAAGb,CAAC,EAAKb,eAAe,CAACa,CAAC,CAACc,MAAM,CAACF,KAAK,CAAE,CAClD,CAAC,cACFzC,IAAA,UACEuC,IAAI,CAAC,MAAM,CACXG,QAAQ,CAAGb,CAAC,EAAKX,UAAU,CAACW,CAAC,CAACc,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAE,CAChD,CAAC,cACF5C,IAAA,WAAQuC,IAAI,CAAC,QAAQ,CAAAD,QAAA,CAAC,gBAAc,CAAQ,CAAC,EACzC,CAAC,CAEX,CAAC,CAED,cAAe,CAAAnC,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}